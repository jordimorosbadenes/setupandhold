<!DOCTYPE html><html lang="es"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Puzzle Generator</title><meta name="description" content="Genera puzzles 3D, visualiza soluciones y descarga STL listo para imprimir."><link rel="icon" type="image/svg+xml" href="/setupandhold/favicon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet"><script>
      const storageKey = 'theme';
      const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
      const saved = localStorage.getItem(storageKey);
      const theme = saved || (prefersLight ? 'light' : 'dark');
      document.documentElement.dataset.theme = theme;
    </script><link rel="stylesheet" href="/setupandhold/_astro/about.T2ZE3OZS.css">
<link rel="stylesheet" href="/setupandhold/_astro/puzzle.BRoR37Rs.css"><script type="module">let c=!1,r=!1,l=0,u=0;const w=()=>{const t=document.getElementById("backend-wait"),n=document.querySelector(".puzzle-shell");t?.classList.add("hide"),n?.classList.remove("blocked"),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}if(typeof window.init3DViewer=="function")try{window.init3DViewer()}catch(e){console.warn("init3DViewer fallo:",e)}},50)},i=()=>{c&&r&&w()},y=async t=>{const n=t.endsWith("/")?t.slice(0,-1):t;try{const e=new AbortController,o=setTimeout(()=>e.abort(),8e3),a=await fetch(`${n}/health`,{signal:e.signal});return clearTimeout(o),a.ok}catch{return!1}},d=()=>{if(r)return;const t=window.PUZZLE_API_BASE||"",n=t.endsWith("/")?t.slice(0,-1):t,e=document.createElement("script"),o=`?v=${Date.now()}-${u}`;e.src=`${n}/static/app.js${o}`,e.defer=!0,e.addEventListener("load",()=>{r=!0,i()}),e.addEventListener("error",a=>{u+=1,console.warn("[Puzzle] No se pudo cargar app.js del backend",a);const s=document.querySelector(".backend-status");s&&(s.textContent="Reintentando app.js del backend..."),setTimeout(d,Math.min(4e3+u*500,12e3))}),document.body.appendChild(e)};window._threeReady?d():window.addEventListener("three-ready",d,{once:!0});(()=>{const t=document.getElementById("backend-style");if(!t){c=!0,i();return}const n=window.PUZZLE_API_BASE||"",e=n.endsWith("/")?n.slice(0,-1):n,o=s=>{const m=document.querySelector(".backend-status");m&&(m.textContent=s)},a=()=>{l+=1;const s=`?v=${Date.now()}-${l}`;t.href=`${e}/static/style.css${s}`,o("Reintentando estilos del backend...")};t.addEventListener("load",()=>{c=!0,i()}),t.addEventListener("error",s=>{console.warn("[Puzzle] No se pudo cargar style.css del backend",s),setTimeout(a,Math.min(3e3+l*500,1e4))}),setTimeout(()=>{c||a()},5e3)})();console.info("[Puzzle] Backend base:",window.PUZZLE_API_BASE||"(default)");(function(){const n=window.PUZZLE_API_BASE||"",e=async()=>{if(await y(n)){const a=document.querySelector(".backend-status");if(a&&(a.textContent="Backend listo, cargando interfaz..."),!c){const s=document.getElementById("backend-style");s&&s.dispatchEvent(new Event("error"))}r||d(),i();return}setTimeout(e,3e3)};e()})();const b=["generate-btn","solve-10-btn","solve-50-btn","prev-btn","next-btn","original-btn","export-stl-btn","btn-isometric","btn-flat"],f=()=>{b.forEach(t=>{const n=document.getElementById(t);n&&n.addEventListener("click",e=>{if(r)return;e.preventDefault(),e.stopPropagation();const o=document.getElementById("status")||document.getElementById("status-viewer");o&&(o.textContent="Cargando interfaz...")},!0)})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f,{once:!0}):f();
</script></head> <body> <div class="page-shell"> <header class="site-header"> <a class="brand" href="/setupandhold/"> <img class="brand-logo" src="/setupandhold/favicon.svg" alt="setupandhold" width="24" height="24"> <span>setupandhold</span> </a> <nav class="nav-links"> <a href="/setupandhold/">Inicio</a> <a href="/setupandhold/posts">Blog</a> <a href="/setupandhold/puzzle" rel="prefetch">Puzzle</a> <a href="/setupandhold/about">Sobre mi</a> <a href="/setupandhold/rss.xml">RSS</a> </nav> <button class="theme-toggle" type="button" data-theme-toggle aria-pressed="false" aria-label="Cambiar tema"> <span aria-hidden="true">üåô</span> <span aria-hidden="true">‚òÄÔ∏è</span> </button> </header> <main class="page">  <section class="puzzle-hero"> <h1>Puzzle Generator 3D</h1> <p></p><p class="note">Si es la primera vez que entras, Render puede tardar ~1 minuto en levantar el backend.</p>
Generador de puzzles 3D con vista isom√©trica, b√∫squeda de soluciones y exportaci√≥n a STL.
      Servido desde un backend Python en Render.
 <div class="hero-actions"> <a class="button" href="/setupandhold/posts">Volver al blog</a> <a class="button secondary" href="https://puzzle-generator-vkgt.onrender.com" target="_blank" rel="noreferrer">Abrir backend</a> </div> </section> <link rel="stylesheet" id="backend-style" href="https://puzzle-generator-vkgt.onrender.com/static/style.css"> <section class="puzzle-shell blocked"> <div id="backend-wait" class="backend-wait" aria-live="polite"> <div class="loader" aria-hidden="true">üß©</div> <div class="backend-msg"> <strong>Arrancando backend‚Ä¶</strong> <span class="backend-note">Render se est√° despertando. Puede tardar ~1 minuto la primera vez.</span> <span class="backend-status" aria-live="polite"></span> </div> </div> <div class="container" id="puzzle-container" aria-live="polite"> <h1>üß© Puzzle Generator Web</h1> <p class="subtitle">
Crea puzzles 3D con visualizaci√≥n isom√©trica e imprime en tu impresora 3D.
</p> <div class="panel config-panel"> <h2>‚öôÔ∏è Configuraci√≥n del Puzzle</h2> <div class="form-grid"> <div class="form-group"> <label>Filas (M):</label> <input type="number" id="M" value="5" min="2" max="20"> </div> <div class="form-group"> <label>Columnas (N):</label> <input type="number" id="N" value="6" min="2" max="20"> </div> <div class="form-group"> <label>Tama√±o m√≠nimo (celdas):</label> <input type="number" id="min_size" value="3" min="1" max="10"> </div> <div class="form-group"> <label>Tama√±o m√°ximo (celdas):</label> <input type="number" id="max_size" value="4" min="1" max="10"> </div> <div class="form-group"> <label>Modo:</label> <select id="mode"> <option value="Fast (original)">R√°pido (original)</option> <option value="Force minimum">Forzar m√≠nimo</option> <option value="Balanced" selected>Equilibrado</option> <option value="Strategic">Estrat√©gico</option> </select> </div> <div class="form-group"> <label>Bordes bloqueados:</label> <select id="border_prob"> <option value="0">0%</option> <option value="25" selected>25%</option> <option value="50">50%</option> <option value="75">75%</option> </select> </div> <div class="form-group"> <label>Celdas aire:</label> <select id="air_prob"> <option value="0" selected>0%</option> <option value="5">5%</option> <option value="10">10%</option> <option value="15">15%</option> </select> </div> </div> <button id="generate-btn" class="btn btn-primary">‚ñ∂ Generar Puzzle</button> </div> <div id="status" class="status"></div> <div class="canvas-area"> <div class="canvas-section"> <h3>üß© Puzzle</h3> <div class="view-controls"> <button class="view-btn active" id="btn-isometric" onclick="switchView(event, 'isometric')">Isom√©trico</button> <button class="view-btn" id="btn-flat" onclick="switchView(event, 'flat')">Plano</button> </div> <canvas id="puzzle-canvas" width="600" height="600"></canvas> </div> <div class="canvas-section"> <h3>üé® Galer√≠a de Piezas</h3> <canvas id="gallery-canvas" width="500" height="600"></canvas> </div> </div> <div class="panel solutions-panel"> <h2>üîç Buscar Soluciones</h2> <div class="solution-controls"> <button id="solve-10-btn" class="btn">Buscar 10 soluciones</button> <button id="solve-50-btn" class="btn">Buscar 50 soluciones</button> <button id="prev-btn" class="btn">‚óÄ Anterior</button> <button id="next-btn" class="btn">‚ñ∂ Siguiente</button> <button id="original-btn" class="btn">Original</button> </div> <div id="solution-info" class="solution-info">Soluci√≥n: 0 (Original) | Encontradas: 0</div> </div> <div class="panel export-panel"> <h2>üñ®Ô∏è Exportar a STL para Impresi√≥n 3D</h2> <div class="form-grid"> <div class="form-group"> <label>Tama√±o cubo (mm):</label> <input type="number" id="stl_cube_size" value="10" step="0.5"> </div> <div class="form-group"> <label>Altura piezas (mm):</label> <input type="number" id="stl_height" value="2" step="0.5"> </div> <div class="form-group"> <label>Tolerancia (mm):</label> <input type="number" id="stl_tolerance" value="0.3" step="0.1"> </div> <div class="form-group"> <label>Separaci√≥n (mm):</label> <input type="number" id="stl_gap" value="5" step="0.5"> </div> <div class="form-group"> <label>Tama√±o borde base (mm):</label> <input type="number" id="stl_border" value="5" step="0.5"> </div> <div class="form-group"> <label>Espesor base (mm):</label> <input type="number" id="stl_base_thickness" value="1" step="0.5"> </div> <div class="form-group"> <label>Altura paredes (mm):</label> <input type="number" id="stl_wall_height" value="2" step="0.5"> </div> </div> <div class="export-buttons"> <button id="export-stl-btn" class="btn btn-success">Descargar STL (Base + Piezas)</button> </div> <div id="status-viewer" class="status"></div> <h3 style="margin-top: 20px;">üì¶ Vista Previa 3D</h3> <div id="viewer-3d" style="width: 100%; height: 500px; border: 1px solid var(--border); border-radius: 12px; background-color: rgba(255,255,255,0.02);"></div> </div> </div> </section> <script>
    window.PUZZLE_API_BASE = "https://puzzle-generator-vkgt.onrender.com";
    (function patchFetch() {
      const base = window.PUZZLE_API_BASE || '';
      const originalFetch = window.fetch.bind(window);
      window.fetch = (input, init) => {
        if (typeof input === 'string' && input.startsWith('/')) {
          return originalFetch(base + input, init);
        }
        if (input && typeof input.url === 'string' && input.url.startsWith('/')) {
          input = new Request(base + input.url, input);
        }
        return originalFetch(input, init);
      };
    })();
  </script> <script type="module">
    import * as THREE from 'https://esm.sh/three@0.128.0';
    import { STLLoader } from 'https://esm.sh/three@0.128.0/examples/jsm/loaders/STLLoader.js';
    import { OrbitControls } from 'https://esm.sh/three@0.128.0/examples/jsm/controls/OrbitControls.js';
    const THREE_NS = Object.assign({}, THREE, { STLLoader, OrbitControls });
    window.THREE = THREE_NS;
    window._threeReady = true;
    window.dispatchEvent(new Event('three-ready'));
  </script>   </main> <footer class="site-footer"> <span>¬© 2026 setupandhold</span> <span class="dot">¬∑</span> <a href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a> </footer> </div> <script>
    (() => {
      const key = 'theme';
      const apply = (value) => {
        document.documentElement.dataset.theme = value;
        localStorage.setItem(key, value);
        const btn = document.querySelector('[data-theme-toggle]');
        btn?.setAttribute('aria-pressed', value === 'light' ? 'true' : 'false');
      };
      const init = () => {
        const saved = localStorage.getItem(key);
        const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
        apply(saved || (prefersLight ? 'light' : 'dark'));
        const btn = document.querySelector('[data-theme-toggle]');
        btn?.addEventListener('click', () => {
          const current = document.documentElement.dataset.theme === 'light' ? 'light' : 'dark';
          apply(current === 'light' ? 'dark' : 'light');
        });
      };
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script> </body></html>  